<h1>Modals</h1>
{{addResModal}}
{{editResModal}}
<modal title="Додати ресурс" visible="addResModal">
  <form  ng-submit="addResource(newResource)" name="addResForm" novalidate>
   <div class="row">
     <div class="col-md-12 ">
      <div class="form-group" ng-class="{ 'has-error': (addResForm.resName.$touched || addResSub) && addResForm.resName.$invalid }">
        <label for="" class="control-label" >Назва ресурса</label>
        <div class="row">
          <div class="col-md-11">
            <input type="text" class="form-control" name="resName" ng-model="newResource.name" ng-maxlength="255" required>
          </div>
          <div class="col-md-1"><button type="submit" class="btn btn-primary btn-border" ng-click="addResSub=true">додати</button></div>
        </div>

        <div class="help-block" ng-messages="addResForm.resName.$error" ng-show="addResForm.resName.$touched || addResSub">
          <div ng-messages-include="/templates/error_msgs.html"></div>
        </div>

      </div>
     </div>
   </div>
  </form>
</modal>

<!-- Modal window for editing resource -->
<modal title="Редагувати ресурс" visible="editResModal">
  <form  ng-submit="editResource(editResObj)" name="editResForm" novalidate>
    <div class="form-group" ng-class="{ 'has-error': (editResForm.resName.$touched || editResSub) && editResForm.resName.$invalid }">
      <div class="row">
        <div class="col-md-12"><label for="" class="control-label" >Назва ресурса</label></div>
        <div class="col-md-11"><input type="text" class="form-control" name="resName" ng-model="editResObj.name" ng-maxlength="255" required></div>
        <div class="col-md-11"><button type="submit" class="btn btn-primary btn-border" ng-click="editResSub=true">змінити</button></div>
      </div>
    
      <div class="help-block" ng-messages="editResForm.resName.$error" ng-show="editResForm.resName.$touched || editResSub">
        <div ng-messages-include="/templates/error_msgs.html"></div>

      </div>
    </div>
  </form>
</modal>

<modal title="Додати право" visible="addPermModal">
  <form  ng-submit="addPermSubmit()" name="addPerm" novalidate>
    <div class="form-group">
      <label for="" class="control-label" >Назва ресурса : </label >

      <select ng-model="perm.resource_name" class="form-control" data-ng-options="resource_name as resource_name for (resource_name,resource_id) in Resources"></select>
    </div>
    <div class="form-group">
      <label class="control-label">Метод</label>
      <select ng-model="perm.action" class="form-control" data-ng-options="meth as meth for meth in meth_obj"></select>
    </div>
    <div class="form-group">
      <label class="control-label">Модифікатор доступу</label>
      <select ng-model="perm.modifier" class="form-control" data-ng-options="modif as modif for modif in modif_obj"></select>
    </div>

    <div class="form-group" ng-class="{ 'has-error': addPerm.descr.$touched && addPerm.descr.$invalid }">
       <div class="row">
     <div class="col-md-12"><label for="" class="control-label" >Опис права</label></div>
      <div class="col-md-11"> <input type="text" class="form-control" name="descr" ng-model="perm.description" ng-maxlength="255" required></div>
      <div class="col-md-1"><button type="sumbit" class="btn btn-primary btn-border">додати</button></div>
    </div>     
    </div>
    <div class="help-block" ng-messages="addPerm.descr.$error" ng-show="addPerm.descr.$touched">
      <div ng-messages-include="/templates/error_msgs.html"></div>
    </div>

  </form>
</modal>

<!-- Modal window for editing permissions -->
<modal title="Редагувати право" visible="editPermModal">
  <form  ng-submit="editPermSubmit()" name="editPermition" novalidate>
    <div class="form-group">
      <label> Назва ресурсу :</label>
      <div class="well well-sm"> {{editPerm.resource_name}}</div>
      
    </div>
    <div class="form-group">
      <label class="control-label">Метод</label>
      <select ng-model="editPerm.action" class="form-control" data-ng-options="meth as meth for meth in meth_obj"></select>
    </div>
    <div class="form-group">
      <label class="control-label">Модифікатор доступу</label>
      <select ng-model="editPerm.modifier" class="form-control" data-ng-options="modif as modif for modif in modif_obj"></select>
    </div>
    <div class="form-group" ng-class="{ 'has-error': editPerm.descr.$touched && editPerm.descr.$invalid }">
    <div class="row">
     <div class="col-md-12"><label for="" class="control-label" >Опис права</label></div>
      <div class="col-md-11"><input type="text" class="form-control" name="descr" ng-model="editPerm.description" ng-maxlength="255" required></div>
      <div class="col-md-1"><button type="submit" class="btn btn-primary btn-border">змінити</button></div>
    </div>
     
      
    </div>

    <div class="help-block" ng-messages="editPerm.descr.$error" ng-show="editPerm.descr.$touched">
      <div ng-messages-include="/templates/error_msgs.html"></div>
    </div>
    
  </form>
</modal>

<!-- Modal window for creating roles -->
<modal title="Додати роль" visible="addRoleModal">
  <form  ng-submit="addRoleSubmit()" name="addRoleForm" novalidate>
    <div class="form-group" ng-class="{ 'has-error': addRoleForm.roleName.$touched && addRoleForm.roleName.$invalid }">
    <div class="row">
      <div class="col-md-12"><label for="" class="control-label" >Назва ролі</label></div>
      <div class="col-md-11"> <input type="text" class="form-control" name="roleName" ng-model="role.name" ng-maxlength="255" required></div>
      <div class="col-md-1"><button type="submit" class="btn btn-primary btn-border">додати</button></div>
    </div>
    
    </div>
    <div class="help-block" ng-messages="addRoleForm.roleName.$error" ng-show="addRoleForm.roleName.$touched">
      <div ng-messages-include="/templates/error_msgs.html"></div>
    </div>


  </form>
</modal>

<modal title="Редагувати роль" visible="editRoleModal">
  <form  ng-submit="editRole()" name="editRoleForm" novalidate>
    <div class="form-group" ng-class="{ 'has-error': addRoleForm.roleName.$touched && addRoleForm.roleName.$invalid }">
    <div class="row">
      <div class="col-md-12"><label for="" class="control-label" >Назва ролі</label></div>
      <div class="col-md-11"><input type="text" class="form-control" name="roleName" ng-model="editRoleObj['name']" ng-maxlength="255" required></div>
      <div class="col-md-1"> <button type="submit" class="btn btn-primary btn-border">Змінити</button></div>
    </div>
      
      
    </div>    

  </form>
</modal>
